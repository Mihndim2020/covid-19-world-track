(this["webpackJsonphttps://sevinchek.github.io/metrics-webapp"]=this["webpackJsonphttps://sevinchek.github.io/metrics-webapp"]||[]).push([[0],{38:function(e,t,c){},67:function(e,t,c){"use strict";c.r(t);var n=c(0),r=c.n(n),i=c(14),s=c.n(i),a=(c(38),c(4)),o=c(11),j=c(3),d=c(10),h=c(30),l=c.n(h),b="react-capstone/countries/LOAD",u="react-capstone/countries/REQUEST",O="react-capstone/countries/LOAD_COUNTRY",f="react-capstone/countries/BACK_HOME",x={loading:!1,countries:[],total:{},countrySelected:void 0},m=function(e){return{type:O,payload:e}},p=function(){return{type:f}},g=function(){return function(e){e({type:u});var t=(new Date).toISOString().replace(/T.*/,"");l.a.get("https://api.covid19tracking.narrativa.com/api/".concat(t)).then((function(c){var n=Object.entries(c.data.dates[t].countries),r=n.filter((function(e){return 0!==e[1].regions.length})),i=n.filter((function(e){return 0===e[1].regions.length})),s={countries:r.concat(i).map((function(e){return e[1]})),total:c.data.total};e({type:b,payload:s})})).catch((function(e){throw e}))}},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return Object(d.a)(Object(d.a)({},e),{},{loading:!1,countries:t.payload.countries,total:t.payload.total});case u:return Object(d.a)(Object(d.a)({},e),{},{loading:!0});case O:return Object(d.a)(Object(d.a)({},e),{},{countrySelected:t.payload});case f:return Object(d.a)(Object(d.a)({},e),{},{countrySelected:void 0});default:return e}},y=c.p+"static/media/back.6609a556.svg",C=c(1),S=function(){var e=Object(a.b)();return Object(a.c)((function(e){return e.countries.countrySelected}))?Object(C.jsx)("header",{children:Object(C.jsxs)("nav",{children:[Object(C.jsx)(o.b,{className:"back-button",to:"/home",onClick:function(){e(p())},children:Object(C.jsx)("img",{src:y,alt:"Logo",width:"30"})}),Object(C.jsx)(o.b,{to:"/home",onClick:function(){e(p())},children:Object(C.jsx)("h1",{children:"Covid-19 World Track"})})]})}):Object(C.jsx)("header",{children:Object(C.jsx)("nav",{children:Object(C.jsx)(o.b,{to:"/home",onClick:function(){e(p())},children:Object(C.jsx)("h1",{children:"Covid-19 World Track"})})})})},k=c.p+"static/media/right-arrow.df0dac5b.svg",w=function(e){var t=e.country,c=Object(a.b)();return Object(C.jsx)("li",{className:"country",children:Object(C.jsxs)(o.b,{to:"/details/".concat(t.id),onClick:function(){c(m(!0))},value:t.id,children:[t.name.length>10&&Object(C.jsx)("h2",{className:"long-name",children:t.name.toUpperCase()}),t.name.length<=10&&Object(C.jsx)("h2",{className:"short-name",children:t.name.toUpperCase()}),Object(C.jsxs)("h3",{children:["Confirmed Cases: ",Object(C.jsx)("br",{}),t.today_confirmed]}),Object(C.jsxs)("h3",{children:["Confirmed Deaths: ",Object(C.jsx)("br",{}),t.today_deaths]}),Object(C.jsx)("span",{className:"right-arrow",children:Object(C.jsx)("img",{src:k,alt:"",width:"25"})})]},t.id)})},N=function(){var e=Object(a.c)((function(e){return e.countries.countries})),t=Object(a.c)((function(e){return e.countries.loading})),c=Object(a.c)((function(e){return e.countries.total})),r=Object(a.b)();return Object(n.useEffect)((function(){0===e.length&&r(g()),r(m(!1))}),[]),Object(C.jsxs)("div",{className:"container",children:[c&&Object(C.jsxs)("main",{children:[Object(C.jsx)("h2",{children:"WORLD"}),Object(C.jsxs)("h3",{children:["Confirmed Cases: ",c.today_confirmed||"loading"]}),Object(C.jsxs)("h3",{children:["Confirmed Deaths: ",c.today_deaths||"loading"]})]}),Object(C.jsxs)("section",{children:[Object(C.jsx)("h4",{children:"STATS BY COUNTRY"}),t&&Object(C.jsx)("h2",{children:"loading..."}),Object(C.jsx)("ul",{className:"countries",children:e.map((function(e){return Object(C.jsx)(w,{country:e},e.id)}))})]})]})},T=function(e){var t=e.region;return Object(C.jsxs)("li",{children:[Object(C.jsx)("h2",{children:t.name}),Object(C.jsxs)("div",{className:"region-confirmed",children:[Object(C.jsxs)("h3",{children:["Confirmed Cases: ",Object(C.jsx)("br",{}),t.today_confirmed]}),Object(C.jsxs)("h3",{children:["Confirmed Deaths: ",Object(C.jsx)("br",{}),t.today_deaths]})]})]})},_=function(e){var t=e.match,c=Object(a.c)((function(e){return e.countries.countries})),r=Object(a.b)();Object(n.useEffect)((function(){window.scrollTo(0,0)}),[]),Object(n.useEffect)((function(){0===c.length&&r(g()),r(m(!0))}),[]);var i=c.find((function(e){return e.id.toString()===t.params.id.toString()}));return 0===c.length?Object(C.jsx)("div",{children:"Loading..."}):Object(C.jsxs)("div",{className:"container",children:[Object(C.jsxs)("main",{children:[Object(C.jsx)("h2",{children:i.name.toUpperCase()}),Object(C.jsxs)("h3",{children:["Confirmed Cases: ",i.today_confirmed]}),Object(C.jsxs)("h3",{children:["Confirmed Deaths: ",i.today_deaths]})]}),Object(C.jsxs)("section",{children:[Object(C.jsx)("h4",{children:"STATS BY REGIONS"}),Object(C.jsx)("ul",{className:"regions",children:i.regions.map((function(e){return Object(C.jsx)(T,{region:e},e.name)}))})]})]})};var D=function(){return Object(C.jsxs)(o.a,{children:[Object(C.jsx)(S,{}),Object(C.jsxs)(j.d,{children:[Object(C.jsx)(j.b,{path:"/home",children:Object(C.jsx)(N,{})}),Object(C.jsx)(j.b,{path:"/details/:id",component:_}),Object(C.jsx)(j.a,{from:"/",to:"/home"})]})]})},E=c(15),U=c(32),A=c.n(U),L=c(33),R=Object(E.b)({countries:v}),B=Object(E.c)(R,Object(E.a)(A.a,L.a));s.a.render(Object(C.jsx)(r.a.StrictMode,{children:Object(C.jsx)(a.a,{store:B,children:Object(C.jsx)(D,{})})}),document.getElementById("root"))}},[[67,1,2]]]);
//# sourceMappingURL=main.44e8c363.chunk.js.map